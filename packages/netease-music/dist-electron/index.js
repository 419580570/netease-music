"use strict";const n=require("electron"),r=require("path"),c=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},t=c(r);function d(e){n.globalShortcut.register("F5",()=>{e.reload()}),n.globalShortcut.register("alt+shift+i",()=>{e.isDevToolsOpened()?e.closeDevTools():e.openDevTools()})}function u(e,o){n.ipcMain.on("window-min",function(){e.minimize()}),n.ipcMain.handle("window-max",function(){return e.isMaximized()?e.restore():e.maximize(),e.isMaximized()}),n.ipcMain.on("window-close",function(){e.close(),process.platform!=="darwin"&&o.quit()}),n.ipcMain.on("login",function(i,a){e.webContents.send("login-send",a)})}const l=require("@electron/remote/main");l.initialize();process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";const s=()=>{n.Menu.setApplicationMenu(null);const e=new n.BrowserWindow({width:1200,height:777,minWidth:1021,center:!0,frame:!1,webPreferences:{contextIsolation:!1,nodeIntegration:!0,preload:t.default.join(__dirname,"../electron-preload/index.cjs")}});l.enable(e.webContents);const o=e.webContents;if(global.shared={main:o.id,dialog:null},n.app.isPackaged)e.loadFile(t.default.join(__dirname,"../dist/index.html"));else{d(o),u(e,n.app);let i="http://localhost:5173";e.loadURL(i),e.webContents.session.loadExtension(t.default.resolve(__dirname,"../vue-devtool"))}};n.app.whenReady().then(()=>{s(),n.app.on("activate",()=>{n.BrowserWindow.getAllWindows().length===0&&s()})});
